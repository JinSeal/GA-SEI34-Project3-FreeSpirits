{"ast":null,"code":"import _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/jinz/Projects/project3/frontend/components/AdoptionForm.js\";\nvar __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport gql from 'graphql-tag';\nimport { FormField, Button, Heading, Combobox } from 'evergreen-ui';\nimport styled from 'styled-components';\nimport { Query } from 'react-apollo';\nimport _ from 'underscore';\nimport { ALL_CATS_QUERY } from './DonationForm';\nconst Styles = styled.div.withConfig({\n  displayName: \"AdoptionForm__Styles\",\n  componentId: \"tea8n5-0\"\n})([\"background-color:white;padding:2rem 5rem;\"]);\nconst CREATE_ADOPTION = gql`\n    mutation CREATE_ADOPTION(\n        $catId: Int!\n        $userId: Int!\n    ){ \n        createAdoption(\n            catId: $catId, \n            userId: $userId )\n            {\n                adoption {\n                    id\n                    catId{\n                    name\n                    iucnStatus\n                    habitat\n                    number\n                    subspecies\n                    lifeSpan\n                    size\n                    weight\n                    diet\n                    image\n                    bg\n                    bg2\n                    }\n                }\n            }\n      }\n`;\n\nclass AdoptionForm extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      name: '',\n      image: \"static/image/stripe.jpg\"\n    });\n\n    _defineProperty(this, \"saveToState\", e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    });\n  }\n\n  render() {\n    return __jsx(Query, {\n      query: ALL_CATS_QUERY,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, ({\n      data\n    }) => {\n      const catsName = _.pluck(data.allCats, \"name\");\n\n      let cat = _.where(data.allCats, {\n        name: this.state.cat\n      })[0];\n\n      let image = cat ? cat.image : this.state.image;\n      return __jsx(Styles, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, __jsx(FormField, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, __jsx(Heading, {\n        size: 500,\n        marginTop: \"default\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, \"Allocation\"), __jsx(Combobox, {\n        name: \"allocation\",\n        openOnFocus: true,\n        width: 400,\n        items: catsName,\n        onChange: selected => {\n          this.setState({\n            name: selected,\n            image: _.where(data.allCats, {\n              name: selected\n            })[0].image\n          });\n        },\n        placeholder: \"Select a Cat\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }), __jsx(\"div\", {\n        style: {\n          height: '200px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, __jsx(\"img\", {\n        style: {\n          height: \"100%\",\n          borderRadius: \"50%\",\n          margin: '3rem'\n        },\n        src: image,\n        alt: \"cat photo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      })), __jsx(Mutation, {\n        mutation: TOGGLE_CART_MUTATION,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, toggleCart => __jsx(Button, {\n        height: 50,\n        marginTop: 50,\n        appearance: \"primary\",\n        intent: \"success\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, \"Adopt\"))));\n    });\n  }\n\n}\n\nexport default AdoptionForm;","map":{"version":3,"sources":["/Users/jinz/Projects/project3/frontend/components/AdoptionForm.js"],"names":["React","Component","gql","FormField","Button","Heading","Combobox","styled","Query","_","ALL_CATS_QUERY","Styles","div","CREATE_ADOPTION","AdoptionForm","name","image","e","setState","target","value","render","data","catsName","pluck","allCats","cat","where","state","selected","height","borderRadius","margin","TOGGLE_CART_MUTATION","toggleCart"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport gql from 'graphql-tag';\nimport { FormField, Button, Heading, Combobox } from 'evergreen-ui';\nimport styled from 'styled-components';\nimport { Query } from 'react-apollo';\nimport _ from 'underscore';\nimport { ALL_CATS_QUERY } from './DonationForm'\n\nconst Styles = styled.div`\n    background-color: white;\n    padding: 2rem 5rem;\n`;\n\n\nconst CREATE_ADOPTION = gql`\n    mutation CREATE_ADOPTION(\n        $catId: Int!\n        $userId: Int!\n    ){ \n        createAdoption(\n            catId: $catId, \n            userId: $userId )\n            {\n                adoption {\n                    id\n                    catId{\n                    name\n                    iucnStatus\n                    habitat\n                    number\n                    subspecies\n                    lifeSpan\n                    size\n                    weight\n                    diet\n                    image\n                    bg\n                    bg2\n                    }\n                }\n            }\n      }\n`;\n\nclass AdoptionForm extends Component {\n    state = {\n        name: '',\n        image: \"static/image/stripe.jpg\"\n    };\n\n\n    saveToState = e => {\n        this.setState({ [e.target.name]: e.target.value });\n    };\n\n    render() {\n        return (\n            <Query query={ALL_CATS_QUERY}>\n                {({ data }) => {\n                    const catsName = _.pluck(data.allCats, \"name\")\n                    let cat = _.where(data.allCats, { name: this.state.cat })[0]\n                    let image = cat ? cat.image : this.state.image\n                    return (\n                        <Styles>\n                            <FormField>\n                                <Heading size={500} marginTop=\"default\">Allocation</Heading>\n                                <Combobox\n                                    name=\"allocation\"\n                                    openOnFocus\n                                    width={400}\n                                    items={catsName}\n                                    onChange={selected => {\n                                        this.setState({\n                                            name: selected,\n                                            image: _.where(data.allCats, { name: selected })[0].image\n                                        })\n                                    }}\n                                    placeholder=\"Select a Cat\"\n                                />\n                                <div style={{ height: '200px' }}>\n                                    <img style={{ height: \"100%\", borderRadius: \"50%\", margin: '3rem' }} src={image} alt=\"cat photo\" />\n                                </div>\n                                <Mutation mutation={TOGGLE_CART_MUTATION}>\n                                    {(toggleCart) => (\n                                        <Button height={50} marginTop={50} appearance=\"primary\" intent=\"success\" >Adopt</Button>\n\n                                    )}\n                                </Mutation>\n                            </FormField>\n                        </Styles >\n                    )\n                }}\n            </Query>\n\n        );\n    }\n}\n\nexport default AdoptionForm;\n"]},"metadata":{},"sourceType":"module"}